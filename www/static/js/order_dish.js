"use strict";var buyCarController=function(){function o(o){n.css("display",o),r.css("display",o)}var n=$("#shadow"),r=$("#bottom");return{show:function(){o("block")},hide:function(){o("none")}}}(),orderKeeper=function(){var o={};return{keep:function(n){o[n]=n},"delete":function(n){delete o[n]},toReq:function(){var n="";for(var r in o)o.hasOwnProperty(r)&&(n+=r+"|");return n.slice(0,-1)}}}();!function(){$("#shadow").on("click",function(){buyCarController.hide()})}(),function(){var o=window.location.search.match(/item_id=.+/);o&&buyCarController.show()}(),function(){$(".order-con").on("click",function(){var o=$(this),n=o.children(".choose").children(".choose-inner");n.hasClass("choosed")?(orderKeeper["delete"](o.attr("data-order-id")),n.removeClass("choosed")):(orderKeeper.keep(o.attr("data-order-id")),n.addClass("choosed"))})}(),function(){$(".choose-all").on("click",function(){$(".order-con").each(function(o,n){return n.click()})})}(),function(){var o="/home/order/pay/";$(".wx-pay").on("click",function(n){return n.preventDefault(),orderKeeper.toReq()?void(window.location.href=o+"?order_id="+orderKeeper.toReq()):alert("你没有选取任何订单额")})}(),function(){$(".kouwei-con").on("click",function(o){$(".kouwei-con").children("button").map(function(o,n){$(n).css({color:"#cc9933",background:"#fff"})}),$(o.target).css({color:"#fff",background:"#cc9933"})}),$(".add").on("click",function(){$(".no-border")[0].innerHTML>0&&($(".no-border")[0].innerHTML=parseInt($(".no-border")[0].innerHTML)-1)}),$(".app").on("click",function(){$(".no-border")[0].innerHTML=parseInt($(".no-border")[0].innerHTML)+1}),$(".confirm").on("click",function(){var o=null;if($(".kouwei-con").children("button").map(function(n,r){console.log($(r).css("color")),"rgb(255, 255, 255)"==$(r).css("color")&&(o=r.id)}),!o)return void alert("请选择口味");var n=parseInt($(".no-border")[0].innerHTML);$.ajax({type:"POST",url:"http://www.hangeer1996.com/home/order/addorder",data:{goodsId:o,odNum:n},timeout:300,context:$("body"),success:function(o){alert("添加购物车成功"),window.location.href="http://www.hangeer1996.com"},error:function(o,n){alert("Ajax error!")}})})}();