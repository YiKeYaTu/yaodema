"use strict";!function(){function t(t,e){var a={adressId:c,orderData:t};console.log(a),$.ajax({type:"POST",url:"/home/order/get_order",data:JSON.stringify(a),dataType:"json",contentType:"application/json",success:function(t){e(t)}})}function e(t){return t.attr||(t=$(t)),{itemId:t.attr("data-item-id"),itemNum:t.attr("data-item-num")}}function a(t){var e=void 0;t=$(t),t.hasClass("reduce")?(e=parseInt(t.next().html())-1||1,t.next().html(e)):t.hasClass("add")&&(e=parseInt(t.prev().html())+1,t.prev().html(e)),e&&t.parents(".item-el").attr("data-item-num",e)}var n=$(".item-el"),i=$(".item-box"),r=$(".wx-pay"),c=$(".adress-box").attr("data-adress-id"),o=[];i.on("click",function(t){a(t.target)}),r.on("click",function(a){a.preventDefault(),n.each(function(t,a){var n=e(a);o.push(n)}),t(o,function(t){0===t.errno&&WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.data.appId,timeStamp:"<1%= payJSticket.timeStamp%>",nonceStr:"<1%= payJSticket.nonceStr%>","package":"<1%= payJSticket.package%>",signType:"<1%= payJSticket.signType%>",paySign:"<1%= payJSticket.paySign%>"},function(t){"get_brand_wcpay_requestï¼šok"==t.err_msg})}),o=[]})}();